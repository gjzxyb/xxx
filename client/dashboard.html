<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å­¦ç”Ÿä¸­å¿ƒ - åˆ†ç§‘è‡ªé€‰ç³»ç»Ÿ</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/safeDOM.js"></script>
  <script src="js/passwordStrength.js"></script>
</head>
<body>
  <div class="page-wrapper">
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
      <div class="container navbar-content">
        <a href="/dashboard.html" class="navbar-brand">
          ğŸ“š <span>åˆ†ç§‘è‡ªé€‰ç³»ç»Ÿ</span>
        </a>
        <div class="navbar-nav">
          <a href="/dashboard.html" class="nav-link active">é¦–é¡µ</a>
          <a href="/selection.html" class="nav-link">é€‰ç§‘</a>
          <div class="nav-user">
            <div class="nav-user-avatar" id="userAvatar">U</div>
            <span id="userName">ç”¨æˆ·</span>
            <a href="#" id="changePasswordBtn" style="color: var(--text-muted); margin-left: 0.5rem;">ä¿®æ”¹å¯†ç </a>
            <a href="#" id="logoutBtn" style="color: var(--text-muted); margin-left: 0.5rem;">é€€å‡º</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- ä¸»å†…å®¹ -->
    <main class="main-content">
      <div class="container">
        <!-- æ¬¢è¿å¡ç‰‡ -->
        <div class="card mb-4 animate-fadeIn">
          <h2 style="margin-bottom: 0.5rem;">ğŸ‘‹ æ¬¢è¿å›æ¥ï¼Œ<span id="welcomeName">åŒå­¦</span></h2>
          <p style="color: var(--text-secondary);" id="welcomeClass">ç­çº§ä¿¡æ¯</p>
        </div>

        <!-- é€‰ç§‘çŠ¶æ€æç¤º -->
        <div id="statusAlert" class="alert alert-info mb-4">
          <span>â³ æ­£åœ¨åŠ è½½é€‰ç§‘çŠ¶æ€...</span>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid">
          <div class="stat-card animate-fadeIn">
            <div class="stat-value" id="statPhysicsHistory">-</div>
            <div class="stat-label">é¦–é€‰ç§‘ç›®</div>
          </div>
          <div class="stat-card animate-fadeIn" style="animation-delay: 0.1s;">
            <div class="stat-value" id="statElectives">-</div>
            <div class="stat-label">å†é€‰ç§‘ç›®</div>
          </div>
          <div class="stat-card animate-fadeIn" style="animation-delay: 0.2s;">
            <div class="stat-value" id="statStatus">-</div>
            <div class="stat-label">é€‰ç§‘çŠ¶æ€</div>
          </div>
        </div>

        <!-- æˆ‘çš„é€‰ç§‘è¯¦æƒ… -->
        <div class="card animate-fadeIn" style="animation-delay: 0.3s;">
          <div class="card-header">
            <h3 class="card-title">ğŸ“‹ æˆ‘çš„é€‰ç§‘</h3>
            <a href="/selection.html" class="btn btn-primary btn-sm" id="goSelectBtn">å»é€‰ç§‘</a>
          </div>

          <div id="selectionContent">
            <div class="loading">
              <div class="spinner"></div>
            </div>
          </div>
        </div>

        <!-- é€‰ç§‘è¯´æ˜ -->
        <div class="card mt-4 animate-fadeIn" style="animation-delay: 0.4s;">
          <h3 class="card-title mb-3">ğŸ“– æ–°é«˜è€ƒ 3+1+2 é€‰ç§‘è¯´æ˜</h3>
          <div style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 2rem;">
            <p><strong>3</strong>ï¼šè¯­æ–‡ã€æ•°å­¦ã€å¤–è¯­ï¼ˆå¿…è€ƒç§‘ç›®ï¼Œæ— éœ€é€‰æ‹©ï¼‰</p>
            <p><strong>1</strong>ï¼šç‰©ç†ã€å†å²ï¼ˆé¦–é€‰ç§‘ç›®ï¼ŒäºŒé€‰ä¸€ï¼‰</p>
            <p><strong>2</strong>ï¼šåŒ–å­¦ã€ç”Ÿç‰©ã€æ”¿æ²»ã€åœ°ç†ï¼ˆå†é€‰ç§‘ç›®ï¼Œå››é€‰äºŒï¼‰</p>
            <div class="alert alert-warning mt-3">
              <span>âš ï¸ é€‰ç§‘ç»“æœå°†å½±å“æœªæ¥é«˜è€ƒå’Œå¤§å­¦ä¸“ä¸šé€‰æ‹©ï¼Œè¯·æ…é‡è€ƒè™‘ï¼</span>
            </div>
          </div>

          <!-- é€‰ç§‘ç»„åˆè¯¦ç»†è¯´æ˜ -->
          <h4 style="margin-top: 2rem; margin-bottom: 1.5rem; color: var(--primary);">ğŸ¯ é€‰ç§‘ç»„åˆåˆ†ææŒ‡å—</h4>
          
          <!-- ç‰©ç† + åŒ–å­¦ + X -->
          <div style="margin-bottom: 2.5rem;">
            <h5 style="color: var(--primary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light);">
              ğŸ”¬ ç‰©ç† + åŒ–å­¦ + Xï¼ˆçº¯ç†ç»„åˆï¼Œä¸“ä¸šè¦†ç›–ç‡æœ€é«˜ â‰¥95%ï¼‰
            </h5>
            <div class="combination-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; margin-top: 1rem;">
              
              <!-- ç‰©+åŒ–+ç”Ÿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                <h6 style="color: #3b82f6; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + åŒ–å­¦ + ç”Ÿç‰©</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>å­¦ç§‘è”ç³»ç´§å¯†ï¼Œç†åŒ–ç”ŸååŒ</p>
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--danger);">âœ— åŠ£åŠ¿ï¼š</strong>ç«äº‰æœ€æ¿€çƒˆï¼Œå­¦éœ¸äº‘é›†ï¼Œèµ‹åˆ†éš¾åº¦å¤§</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>å‡ ä¹æ¶µç›–æ‰€æœ‰ä¸“ä¸š</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>åŒ»ç”Ÿã€ç§‘ç ”äººå‘˜ã€ç”Ÿç‰©åˆ¶è¯ã€åŒ–å·¥å·¥ç¨‹å¸ˆ</p>
                </div>
              </div>

              <!-- ç‰©+åŒ–+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #10b981;">
                <h6 style="color: #10b981; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + åŒ–å­¦ + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>åœ°ç†è¢«ç§°ä¸º"ç†ç§‘ä¸­çš„æ–‡ç§‘"ï¼ŒèƒŒè¯µé‡é€‚ä¸­ï¼Œç†è§£å®¹æ˜“</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>ç†å·¥ç±»ã€åœ°è´¨å‹˜æ¢ã€å»ºç­‘å­¦ã€åŸå¸‚è§„åˆ’</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>å»ºç­‘å¸ˆã€åœ°è´¨åˆ†æå¸ˆã€å…¬åŠ¡å‘˜ã€ç§‘ç ”æœºæ„</p>
                </div>
              </div>

              <!-- ç‰©+åŒ–+æ”¿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #f59e0b;">
                <h6 style="color: #f59e0b; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + åŒ–å­¦ + æ”¿æ²»</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>è€ƒè™‘åˆ°è€ƒå…¬ã€è€ƒç ”ï¼Œæ”¿æ²»æœ‰é•¿æœŸä¼˜åŠ¿</p>
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--danger);">âœ— åŠ£åŠ¿ï¼š</strong>å­¦ç§‘è·¨åº¦å¤§ï¼Œæ€ç»´è½¬æ¢ç´¯</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>ç†å·¥ç±»ï¼Œåœ¨æŠ¥è€ƒè­¦æ ¡ã€å†›æ ¡æ—¶æœ‰æå¤§ä¼˜åŠ¿</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>å·¥ç¨‹å¸ˆã€å›½å®¶å…¬èŒäººå‘˜ã€æŠ€æœ¯ç±»è­¦å®˜</p>
                </div>
              </div>
            </div>
          </div>

          <!-- ç‰©ç† + éåŒ–å­¦ + X -->
          <div style="margin-bottom: 2.5rem;">
            <h5 style="color: var(--primary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light);">
              âš—ï¸ ç‰©ç† + éåŒ–å­¦ + Xï¼ˆä¾§é‡ç†è§£ä¸é€»è¾‘ï¼‰
            </h5>
            <p style="color: var(--warning); font-size: 0.9rem; margin-bottom: 1rem; padding: 0.8rem; background: rgba(245, 158, 11, 0.1); border-radius: 6px;">
              âš ï¸ æ³¨æ„ï¼šé¿å¼€åŒ–å­¦åï¼Œéƒ¨åˆ†é«˜æ°´å¹³ç†å·¥ç±»é™¢æ ¡ä¸“ä¸šï¼ˆå¦‚è®¡ç®—æœºã€æœºæ¢°ï¼‰å¯èƒ½æ— æ³•æŠ¥è€ƒ
            </p>
            <div class="combination-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
              
              <!-- ç‰©+ç”Ÿ+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                <h6 style="color: #8b5cf6; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + ç”Ÿç‰© + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>éš¾åº¦ç›¸å¯¹è¾ƒä½ï¼Œé€‚åˆç‰©ç†å¥½ä½†åŒ–å­¦å·®çš„å­¦ç”Ÿ</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>åŸºç¡€ç†ç§‘ã€å†œæ—ç±»ã€å›­æ—è®¾è®¡ã€å¿ƒç†å­¦</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>æ™¯è§‚è®¾è®¡å¸ˆã€å›­è‰ºå¸ˆã€è½¯ä»¶å¼€å‘ï¼ˆé™éƒ¨åˆ†é™¢æ ¡ï¼‰</p>
                </div>
              </div>

              <!-- ç‰©+ç”Ÿ+æ”¿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                <h6 style="color: #ec4899; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + ç”Ÿç‰© + æ”¿æ²»</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>é¿å¼€ç¹çè®¡ç®—ï¼Œä¾§é‡è®°å¿†ä¸é€»è¾‘</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>ä½“è‚²ã€è‰ºæœ¯ã€åŒ»å­¦ç›¸å…³ï¼ˆéä¸´åºŠï¼‰ã€æ”¿æ²»å­¦</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>è€å¸ˆã€ä½“è‚²åº·å¤ã€ä¼ åª’ç®¡ç†</p>
                </div>
              </div>

              <!-- ç‰©+æ”¿+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #06b6d4;">
                <h6 style="color: #06b6d4; margin-bottom: 0.8rem; font-weight: 600;">ç‰©ç† + æ”¿æ²» + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>çº¯æ–‡ç†äº¤å‰ï¼Œä¸è€ƒå®éªŒå­¦ç§‘</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>ç®¡ç†å­¦ã€ç»æµå­¦ã€åœ°ç†ä¿¡æ¯ç³»ç»Ÿ</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>è¡Œæ”¿ç®¡ç†ã€é‡‘èåˆ†æã€åŸå¸‚è§„åˆ’</p>
                </div>
              </div>
            </div>
          </div>

          <!-- å†å² + åŒ–å­¦ + X -->
          <div style="margin-bottom: 2.5rem;">
            <h5 style="color: var(--primary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light);">
              ğŸ“œ å†å² + åŒ–å­¦ + Xï¼ˆæ–‡ç§‘åç†ï¼Œç«äº‰å‹åŠ›é€‚ä¸­ï¼‰
            </h5>
            <div class="combination-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
              
              <!-- å†+åŒ–+ç”Ÿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #14b8a6;">
                <h6 style="color: #14b8a6; margin-bottom: 0.8rem; font-weight: 600;">å†å² + åŒ–å­¦ + ç”Ÿç‰©</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>æ–‡ç§‘ç”Ÿä¸­çš„"ç†ç§‘ç”Ÿ"ï¼Œåœ¨æ¶‰åŠæŠ¤ç†ã€è€ƒå¤ç­‰ä¸“ä¸šæ—¶æœ‰ä¼˜åŠ¿</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>æ–‡å²å“²ã€æŠ¤ç†ã€è¯å‰‚ã€è€ƒå¤å­¦</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>æŠ¤å£«ã€è€ƒå¤äººå‘˜ã€æ•™è‚²å·¥ä½œè€…</p>
                </div>
              </div>

              <!-- å†+åŒ–+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #f97316;">
                <h6 style="color: #f97316; margin-bottom: 0.8rem; font-weight: 600;">å†å² + åŒ–å­¦ + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>çŸ¥è¯†é¢å¹¿ï¼Œå¯¹åœ°ç†å’ŒåŒ–å­¦æœ‰å…´è¶£çš„æ–‡ç§‘ç”Ÿé€‚ç”¨</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>æ–‡å²å“²ã€æ—…æ¸¸ç®¡ç†ã€åœ°ç†èµ„æº</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>å¯¼æ¸¸ã€ç­–å±•äººã€æ–‡ç§˜</p>
                </div>
              </div>

              <!-- å†+åŒ–+æ”¿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #ef4444;">
                <h6 style="color: #ef4444; margin-bottom: 0.8rem; font-weight: 600;">å†å² + åŒ–å­¦ + æ”¿æ²»</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>æå…·æŒ‘æˆ˜æ€§çš„æ–‡ç§‘ç»„åˆ</p>
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--danger);">âœ— åŠ£åŠ¿ï¼š</strong>è®°å¿†é‡å¤§</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>æ³•å­¦ã€ç¤¾ä¼šå­¦ã€é©¬å…‹æ€ä¸»ä¹‰ç†è®ºã€æ”¿æ²»å­¦</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>å…¬åŠ¡å‘˜ã€æ³•åŠ¡ã€æ–°é—»ç¼–è¾‘</p>
                </div>
              </div>
            </div>
          </div>

          <!-- å†å² + éåŒ–å­¦ + X -->
          <div style="margin-bottom: 1rem;">
            <h5 style="color: var(--primary); margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light);">
              ğŸ“– å†å² + éåŒ–å­¦ + Xï¼ˆä¼ ç»Ÿçº¯æ–‡æ–¹å‘ï¼‰
            </h5>
            <div class="combination-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
              
              <!-- å†+ç”Ÿ+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #84cc16;">
                <h6 style="color: #84cc16; margin-bottom: 0.8rem; font-weight: 600;">å†å² + ç”Ÿç‰© + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>éš¾åº¦æœ€ä½ï¼Œé€‚åˆè¿½æ±‚æ€»åˆ†ã€ä¸æ“…é•¿é€»è¾‘æ¨ç†çš„å­¦ç”Ÿ</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>è¯­è¨€ç±»ã€é…’åº—ç®¡ç†ã€ç¤¾ä¼šå­¦</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>ç¿»è¯‘ã€é…’åº—ç»ç†ã€ä¸­å°å­¦è€å¸ˆ</p>
                </div>
              </div>

              <!-- å†+ç”Ÿ+æ”¿ -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #a855f7;">
                <h6 style="color: #a855f7; margin-bottom: 0.8rem; font-weight: 600;">å†å² + ç”Ÿç‰© + æ”¿æ²»</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>åå‘æ„Ÿæ€§æ€ç»´ï¼Œé€‚åˆèµ°è‰ºæœ¯æˆ–æ”¿æ³•è·¯çº¿</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>å¹¿æ’­ç”µè§†ã€æ³•å­¦ã€å…¬å…±äº‹ä¸šç®¡ç†</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>è®°è€…ã€ä¸»æŒäººã€ç¤¾åŒºæœåŠ¡</p>
                </div>
              </div>

              <!-- å†+æ”¿+åœ° -->
              <div class="combination-card" style="background: var(--bg-secondary); padding: 1.2rem; border-radius: 8px; border-left: 4px solid #64748b;">
                <h6 style="color: #64748b; margin-bottom: 0.8rem; font-weight: 600;">å†å² + æ”¿æ²» + åœ°ç†</h6>
                <div style="font-size: 0.9rem; line-height: 1.6;">
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--success);">âœ“ ä¼˜åŠ¿ï¼š</strong>æœ€çº¯ç²¹çš„æ–‡ç§‘ç»„åˆï¼Œé€»è¾‘ä½“ç³»å•ä¸€</p>
                  <p style="margin: 0.5rem 0;"><strong style="color: var(--danger);">âœ— åŠ£åŠ¿ï¼š</strong>ä¸“ä¸šè¦†ç›–ç‡æœ€ä½ï¼ˆçº¦40%-50%ï¼‰</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ“š ä¸“ä¸šé¢ï¼š</strong>å†å²ã€æ³•å­¦ã€æ±‰è¯­è¨€æ–‡å­¦ã€å°è¯­ç§</p>
                  <p style="margin: 0.5rem 0;"><strong>ğŸ’¼ å°±ä¸šï¼š</strong>æ•™å¸ˆã€æ³•å®˜/å¾‹å¸ˆã€è¡Œæ”¿ç®¡ç†ã€åª’ä½“äºº</p>
                </div>
              </div>
            </div>
          </div>

          <div class="alert alert-info" style="margin-top: 2rem;">
            <span>ğŸ’¡ <strong>æ¸©é¦¨æç¤ºï¼š</strong>é€‰ç§‘æ—¶éœ€ç»¼åˆè€ƒè™‘ä¸ªäººå…´è¶£ã€å­¦ç§‘ä¼˜åŠ¿ã€æœªæ¥èŒä¸šè§„åˆ’å’Œç›®æ ‡é™¢æ ¡ä¸“ä¸šè¦æ±‚ã€‚å»ºè®®å’¨è¯¢è€å¸ˆå’Œå®¶é•¿ï¼Œåšå‡ºæœ€é€‚åˆè‡ªå·±çš„é€‰æ‹©ï¼</span>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- ä¿®æ”¹å¯†ç æ¨¡æ€æ¡† -->
  <div class="modal-overlay" id="changePasswordModal">
    <div class="modal">
      <div class="modal-header">
        <h3 class="modal-title">ğŸ” ä¿®æ”¹å¯†ç </h3>
        <button class="modal-close" onclick="closeChangePasswordModal()">&times;</button>
      </div>
      <form id="changePasswordForm">
        <div class="form-group">
          <label class="form-label">å½“å‰å¯†ç </label>
          <input type="password" id="currentPassword" class="form-input" required placeholder="è¯·è¾“å…¥å½“å‰å¯†ç ">
        </div>
        <div class="form-group">
          <label class="form-label">æ–°å¯†ç </label>
          <input type="password" id="newPassword" class="form-input" required placeholder="8-32å­—ç¬¦ï¼Œå«å¤§å°å†™å­—æ¯å’Œæ•°å­—">
          <!-- å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨å®¹å™¨ -->
          <div id="newPasswordStrengthContainer"></div>
        </div>
        <div class="form-group">
          <label class="form-label">ç¡®è®¤æ–°å¯†ç </label>
          <input type="password" id="confirmPassword" class="form-input" required placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç ">
        </div>
        <div class="flex justify-between">
          <button type="button" class="btn btn-secondary" onclick="closeChangePasswordModal()">å–æ¶ˆ</button>
          <button type="submit" class="btn btn-primary">ç¡®è®¤ä¿®æ”¹</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/api.js"></script>
  <script>
    // æ£€æŸ¥ç™»å½•çŠ¶æ€
    if (!isLoggedIn()) {
      window.location.href = '/';
    }

    // è·å– projectId
    const urlParams = new URLSearchParams(window.location.search);
    const projectId = urlParams.get('projectId');

    if (projectId) {
      // æ›´æ–°æ‰€æœ‰å†…éƒ¨é“¾æ¥
      document.querySelectorAll('a[href^="/dashboard.html"], a[href^="/selection.html"]').forEach(link => {
        const url = new URL(link.href, window.location.origin);
        url.searchParams.set('projectId', projectId);
        link.href = url.toString();
      });
    } else {
       // å¦‚æœä¸æ˜¯åœ¨å¹³å°ç®¡ç†é¡µé¢ï¼Œä¸”ç¼ºå°‘projectIdï¼Œæç¤ºé”™è¯¯
       if (!window.location.pathname.includes('/platform/')) {
          alert('ç¼ºå°‘é¡¹ç›®ä¿¡æ¯ï¼Œè¯·é‡æ–°è¿›å…¥ç³»ç»Ÿ');
          window.location.href = '/platform/dashboard.html';
       }
    }

    if (!projectId) {
      alert('ç¼ºå°‘é¡¹ç›®ä¿¡æ¯ï¼Œè¯·é€šè¿‡æ­£ç¡®çš„æ–¹å¼è®¿é—®');
      window.location.href = '/';
    }

    const user = getCurrentUser();
    if (user && user.role === 'admin') {
      window.location.href = `/admin.html?projectId=${projectId}`;
    }

    // åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯
    if (user) {
      document.getElementById('userAvatar').textContent = user.name.charAt(0);
      document.getElementById('userName').textContent = user.name;
      document.getElementById('welcomeName').textContent = user.name;
      document.getElementById('welcomeClass').textContent = user.className ? `${user.className} | å­¦å·: ${user.studentId}` : `å­¦å·: ${user.studentId}`;
    }

    // é€€å‡ºç™»å½•
    document.getElementById('logoutBtn').addEventListener('click', (e) => {
      e.preventDefault();
      clearToken();
      window.location.href = projectId ? `/?projectId=${projectId}` : '/';
    });

    // ä¿®æ”¹å¯†ç åŠŸèƒ½
    let newPasswordStrength = null;

    document.getElementById('changePasswordBtn').addEventListener('click', (e) => {
      e.preventDefault();
      showChangePasswordModal();
    });

    function showChangePasswordModal() {
      document.getElementById('changePasswordModal').classList.add('active');
      document.getElementById('changePasswordForm').reset();
      
      // åˆå§‹åŒ–å¯†ç å¼ºåº¦æŒ‡ç¤ºå™¨
      if (newPasswordStrength) {
        newPasswordStrength.destroy();
      }
      newPasswordStrength = new PasswordStrengthIndicator({
        passwordInput: document.getElementById('newPassword'),
        container: document.getElementById('newPasswordStrengthContainer')
      });
    }

    function closeChangePasswordModal() {
      document.getElementById('changePasswordModal').classList.remove('active');
      if (newPasswordStrength) {
        newPasswordStrength.destroy();
        newPasswordStrength = null;
      }
    }

    document.getElementById('changePasswordForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const currentPassword = document.getElementById('currentPassword').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;

      // éªŒè¯æ–°å¯†ç å’Œç¡®è®¤å¯†ç æ˜¯å¦ä¸€è‡´
      if (newPassword !== confirmPassword) {
        alert('ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´');
        return;
      }

      // éªŒè¯å¯†ç å¼ºåº¦
      if (newPasswordStrength && !newPasswordStrength.isValid()) {
        const errors = newPasswordStrength.getErrors();
        alert('æ–°å¯†ç ä¸ç¬¦åˆè¦æ±‚ï¼š\n' + errors.join('\n'));
        return;
      }

      try {
        const result = await api.auth.changePassword(currentPassword, newPassword);
        
        if (result.code === 200) {
          alert('å¯†ç ä¿®æ”¹æˆåŠŸï¼è¯·ä½¿ç”¨æ–°å¯†ç é‡æ–°ç™»å½•');
          closeChangePasswordModal();
          clearToken();
          window.location.href = projectId ? `/?projectId=${projectId}` : '/';
        } else {
          alert(result.message || 'ä¿®æ”¹å¤±è´¥');
        }
      } catch (err) {
        console.error('ä¿®æ”¹å¯†ç é”™è¯¯:', err);
        alert('ä¿®æ”¹å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
      }
    });

    // åŠ è½½é€‰ç§‘çŠ¶æ€
    async function loadStatus() {
      const statusAlert = document.getElementById('statusAlert');
      const result = await api.selections.getStatus();

      if (result.code === 200) {
        const { open, message, startTime, endTime } = result.data;
        if (open) {
          statusAlert.className = 'alert alert-success mb-4';
          statusAlert.innerHTML = `<span>âœ… ${message} | æˆªæ­¢æ—¶é—´: ${endTime}</span>`;
        } else {
          statusAlert.className = 'alert alert-warning mb-4';
          statusAlert.innerHTML = `<span>â° ${message}</span>`;
        }
      }
    }

    // è·å–ç»„åˆåˆ†ææ•°æ®
    function getCombinationAnalysis(physics, elective1, elective2) {
      const combinations = {
        'ç‰©ç†-åŒ–å­¦-ç”Ÿç‰©': {
          color: '#3b82f6',
          category: 'ğŸ”¬ ç‰©ç† + åŒ–å­¦ + Xï¼ˆçº¯ç†ç»„åˆï¼‰',
          coverage: 'â‰¥95%',
          advantages: 'å­¦ç§‘è”ç³»ç´§å¯†ï¼Œç†åŒ–ç”ŸååŒ',
          disadvantages: 'ç«äº‰æœ€æ¿€çƒˆï¼Œå­¦éœ¸äº‘é›†ï¼Œèµ‹åˆ†éš¾åº¦å¤§',
          majors: 'å‡ ä¹æ¶µç›–æ‰€æœ‰ä¸“ä¸šï¼ŒåŒ»å­¦ã€ç”Ÿç‰©å·¥ç¨‹ã€åˆ¶è¯ã€ç¯å¢ƒç§‘å­¦ç­‰å¿…é€‰',
          careers: 'åŒ»ç”Ÿã€ç§‘ç ”äººå‘˜ã€ç”Ÿç‰©åˆ¶è¯ã€åŒ–å·¥å·¥ç¨‹å¸ˆ'
        },
        'ç‰©ç†-åŒ–å­¦-åœ°ç†': {
          color: '#10b981',
          category: 'ğŸ”¬ ç‰©ç† + åŒ–å­¦ + Xï¼ˆçº¯ç†ç»„åˆï¼‰',
          coverage: 'â‰¥95%',
          advantages: 'åœ°ç†è¢«ç§°ä¸º"ç†ç§‘ä¸­çš„æ–‡ç§‘"ï¼ŒèƒŒè¯µé‡é€‚ä¸­ï¼Œç†è§£å®¹æ˜“',
          disadvantages: '',
          majors: 'ç†å·¥ç±»ã€åœ°è´¨å‹˜æ¢ã€å»ºç­‘å­¦ã€åŸå¸‚è§„åˆ’',
          careers: 'å»ºç­‘å¸ˆã€åœ°è´¨åˆ†æå¸ˆã€å…¬åŠ¡å‘˜ã€ç§‘ç ”æœºæ„'
        },
        'ç‰©ç†-åŒ–å­¦-æ”¿æ²»': {
          color: '#f59e0b',
          category: 'ğŸ”¬ ç‰©ç† + åŒ–å­¦ + Xï¼ˆçº¯ç†ç»„åˆï¼‰',
          coverage: 'â‰¥95%',
          advantages: 'è€ƒè™‘åˆ°è€ƒå…¬ã€è€ƒç ”ï¼Œæ”¿æ²»æœ‰é•¿æœŸä¼˜åŠ¿',
          disadvantages: 'å­¦ç§‘è·¨åº¦å¤§ï¼Œæ€ç»´è½¬æ¢ç´¯',
          majors: 'ç†å·¥ç±»ï¼Œåœ¨æŠ¥è€ƒè­¦æ ¡ã€å†›æ ¡æ—¶æœ‰æå¤§ä¼˜åŠ¿',
          careers: 'å·¥ç¨‹å¸ˆã€å›½å®¶å…¬èŒäººå‘˜ã€æŠ€æœ¯ç±»è­¦å®˜'
        },
        'ç‰©ç†-ç”Ÿç‰©-åœ°ç†': {
          color: '#8b5cf6',
          category: 'âš—ï¸ ç‰©ç† + éåŒ–å­¦ + Xï¼ˆä¾§é‡ç†è§£ä¸é€»è¾‘ï¼‰',
          coverage: 'çº¦80%',
          advantages: 'éš¾åº¦ç›¸å¯¹è¾ƒä½ï¼Œé€‚åˆç‰©ç†å¥½ä½†åŒ–å­¦å·®çš„å­¦ç”Ÿ',
          disadvantages: 'éƒ¨åˆ†é«˜æ°´å¹³ç†å·¥ç±»ä¸“ä¸šå¯èƒ½æ— æ³•æŠ¥è€ƒ',
          majors: 'åŸºç¡€ç†ç§‘ã€å†œæ—ç±»ã€å›­æ—è®¾è®¡ã€å¿ƒç†å­¦',
          careers: 'æ™¯è§‚è®¾è®¡å¸ˆã€å›­è‰ºå¸ˆã€è½¯ä»¶å¼€å‘ï¼ˆé™éƒ¨åˆ†é™¢æ ¡ï¼‰'
        },
        'ç‰©ç†-ç”Ÿç‰©-æ”¿æ²»': {
          color: '#ec4899',
          category: 'âš—ï¸ ç‰©ç† + éåŒ–å­¦ + Xï¼ˆä¾§é‡ç†è§£ä¸é€»è¾‘ï¼‰',
          coverage: 'çº¦75%',
          advantages: 'é¿å¼€ç¹çè®¡ç®—ï¼Œä¾§é‡è®°å¿†ä¸é€»è¾‘',
          disadvantages: 'éƒ¨åˆ†é«˜æ°´å¹³ç†å·¥ç±»ä¸“ä¸šå¯èƒ½æ— æ³•æŠ¥è€ƒ',
          majors: 'ä½“è‚²ã€è‰ºæœ¯ã€åŒ»å­¦ç›¸å…³ï¼ˆéä¸´åºŠï¼‰ã€æ”¿æ²»å­¦',
          careers: 'è€å¸ˆã€ä½“è‚²åº·å¤ã€ä¼ åª’ç®¡ç†'
        },
        'ç‰©ç†-æ”¿æ²»-åœ°ç†': {
          color: '#06b6d4',
          category: 'âš—ï¸ ç‰©ç† + éåŒ–å­¦ + Xï¼ˆä¾§é‡ç†è§£ä¸é€»è¾‘ï¼‰',
          coverage: 'çº¦70%',
          advantages: 'çº¯æ–‡ç†äº¤å‰ï¼Œä¸è€ƒå®éªŒå­¦ç§‘',
          disadvantages: 'éƒ¨åˆ†é«˜æ°´å¹³ç†å·¥ç±»ä¸“ä¸šå¯èƒ½æ— æ³•æŠ¥è€ƒ',
          majors: 'ç®¡ç†å­¦ã€ç»æµå­¦ã€åœ°ç†ä¿¡æ¯ç³»ç»Ÿ',
          careers: 'è¡Œæ”¿ç®¡ç†ã€é‡‘èåˆ†æã€åŸå¸‚è§„åˆ’'
        },
        'å†å²-åŒ–å­¦-ç”Ÿç‰©': {
          color: '#14b8a6',
          category: 'ğŸ“œ å†å² + åŒ–å­¦ + Xï¼ˆæ–‡ç§‘åç†ï¼‰',
          coverage: 'çº¦55%',
          advantages: 'æ–‡ç§‘ç”Ÿä¸­çš„"ç†ç§‘ç”Ÿ"ï¼Œåœ¨æ¶‰åŠæŠ¤ç†ã€è€ƒå¤ç­‰ä¸“ä¸šæ—¶æœ‰ä¼˜åŠ¿',
          disadvantages: '',
          majors: 'æ–‡å²å“²ã€æŠ¤ç†ã€è¯å‰‚ã€è€ƒå¤å­¦',
          careers: 'æŠ¤å£«ã€è€ƒå¤äººå‘˜ã€æ•™è‚²å·¥ä½œè€…'
        },
        'å†å²-åŒ–å­¦-åœ°ç†': {
          color: '#f97316',
          category: 'ğŸ“œ å†å² + åŒ–å­¦ + Xï¼ˆæ–‡ç§‘åç†ï¼‰',
          coverage: 'çº¦50%',
          advantages: 'çŸ¥è¯†é¢å¹¿ï¼Œå¯¹åœ°ç†å’ŒåŒ–å­¦æœ‰å…´è¶£çš„æ–‡ç§‘ç”Ÿé€‚ç”¨',
          disadvantages: '',
          majors: 'æ–‡å²å“²ã€æ—…æ¸¸ç®¡ç†ã€åœ°ç†èµ„æº',
          careers: 'å¯¼æ¸¸ã€ç­–å±•äººã€æ–‡ç§˜'
        },
        'å†å²-åŒ–å­¦-æ”¿æ²»': {
          color: '#ef4444',
          category: 'ğŸ“œ å†å² + åŒ–å­¦ + Xï¼ˆæ–‡ç§‘åç†ï¼‰',
          coverage: 'çº¦52%',
          advantages: 'æå…·æŒ‘æˆ˜æ€§çš„æ–‡ç§‘ç»„åˆ',
          disadvantages: 'è®°å¿†é‡å¤§',
          majors: 'æ³•å­¦ã€ç¤¾ä¼šå­¦ã€é©¬å…‹æ€ä¸»ä¹‰ç†è®ºã€æ”¿æ²»å­¦',
          careers: 'å…¬åŠ¡å‘˜ã€æ³•åŠ¡ã€æ–°é—»ç¼–è¾‘'
        },
        'å†å²-ç”Ÿç‰©-åœ°ç†': {
          color: '#84cc16',
          category: 'ğŸ“– å†å² + éåŒ–å­¦ + Xï¼ˆä¼ ç»Ÿçº¯æ–‡ï¼‰',
          coverage: 'çº¦45%',
          advantages: 'éš¾åº¦æœ€ä½ï¼Œé€‚åˆè¿½æ±‚æ€»åˆ†ã€ä¸æ“…é•¿é€»è¾‘æ¨ç†çš„å­¦ç”Ÿ',
          disadvantages: '',
          majors: 'è¯­è¨€ç±»ã€é…’åº—ç®¡ç†ã€ç¤¾ä¼šå­¦',
          careers: 'ç¿»è¯‘ã€é…’åº—ç»ç†ã€ä¸­å°å­¦è€å¸ˆ'
        },
        'å†å²-ç”Ÿç‰©-æ”¿æ²»': {
          color: '#a855f7',
          category: 'ğŸ“– å†å² + éåŒ–å­¦ + Xï¼ˆä¼ ç»Ÿçº¯æ–‡ï¼‰',
          coverage: 'çº¦48%',
          advantages: 'åå‘æ„Ÿæ€§æ€ç»´ï¼Œé€‚åˆèµ°è‰ºæœ¯æˆ–æ”¿æ³•è·¯çº¿',
          disadvantages: '',
          majors: 'å¹¿æ’­ç”µè§†ã€æ³•å­¦ã€å…¬å…±äº‹ä¸šç®¡ç†',
          careers: 'è®°è€…ã€ä¸»æŒäººã€ç¤¾åŒºæœåŠ¡'
        },
        'å†å²-æ”¿æ²»-åœ°ç†': {
          color: '#64748b',
          category: 'ğŸ“– å†å² + éåŒ–å­¦ + Xï¼ˆä¼ ç»Ÿçº¯æ–‡ï¼‰',
          coverage: 'çº¦40%-50%',
          advantages: 'æœ€çº¯ç²¹çš„æ–‡ç§‘ç»„åˆï¼Œé€»è¾‘ä½“ç³»å•ä¸€',
          disadvantages: 'ä¸“ä¸šè¦†ç›–ç‡æœ€ä½',
          majors: 'å†å²ã€æ³•å­¦ã€æ±‰è¯­è¨€æ–‡å­¦ã€å°è¯­ç§',
          careers: 'æ•™å¸ˆã€æ³•å®˜/å¾‹å¸ˆã€è¡Œæ”¿ç®¡ç†ã€åª’ä½“äºº'
        }
      };

      const key = `${physics}-${elective1}-${elective2}`;
      return combinations[key] || null;
    }

    // åŠ è½½æˆ‘çš„é€‰ç§‘
    async function loadMySelection() {
      const content = document.getElementById('selectionContent');
      
      try {
        const result = await api.selections.getMy();
        console.log('Selection data:', result); // è°ƒè¯•ä¿¡æ¯

        if (result.code === 200 && result.data) {
          const sel = result.data;
          
          // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
          document.getElementById('statPhysicsHistory').textContent = sel.physicsHistorySubject?.name || '-';
          document.getElementById('statElectives').textContent = 
            `${sel.electiveOneSubject?.name || '-'} + ${sel.electiveTwoSubject?.name || '-'}`;
          
          const statusMap = {
            'draft': 'è‰ç¨¿',
            'submitted': 'å·²æäº¤',
            'confirmed': 'å·²ç¡®è®¤',
            'cancelled': 'å·²å–æ¶ˆ'
          };
          document.getElementById('statStatus').textContent = statusMap[sel.status] || '-';
          
          // è·å–ç»„åˆåˆ†æ
          const analysis = getCombinationAnalysis(
            sel.physicsHistorySubject?.name,
            sel.electiveOneSubject?.name,
            sel.electiveTwoSubject?.name
          );
          
          console.log('Analysis data:', analysis); // è°ƒè¯•ä¿¡æ¯
        
        // æ›´æ–°é€‰ç§‘è¯¦æƒ… - ä½¿ç”¨ä¸¤æ å¸ƒå±€
        content.innerHTML = `
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
            <!-- å·¦ä¾§ï¼šå·²é€‰ç§‘ç›® -->
            <div>
              <h4 style="margin-bottom: 1rem; color: var(--primary);">ğŸ“ å·²é€‰ç§‘ç›®</h4>
              <div class="selection-display" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 8px;">
                <div class="subject-item physics-history" style="margin-bottom: 1rem;">
                  <label style="font-weight: 600; color: var(--text-secondary); display: block; margin-bottom: 0.5rem;">é¦–é€‰ç§‘ç›®</label>
                  <div class="value" style="font-size: 1.2rem; color: var(--primary); font-weight: 600;">
                    ${sel.physicsHistorySubject?.name || '-'}
                  </div>
                </div>
                <div class="subject-item electives" style="margin-bottom: 1rem;">
                  <label style="font-weight: 600; color: var(--text-secondary); display: block; margin-bottom: 0.5rem;">å†é€‰ç§‘ç›®</label>
                  <div class="value" style="font-size: 1.2rem; color: var(--primary); font-weight: 600;">
                    ${sel.electiveOneSubject?.name || '-'} + ${sel.electiveTwoSubject?.name || '-'}
                  </div>
                </div>
                <div class="submit-time" style="font-size: 0.9rem; color: var(--text-muted); padding-top: 1rem; border-top: 1px solid var(--border-color);">
                  æäº¤æ—¶é—´: ${sel.submittedAt ? new Date(sel.submittedAt).toLocaleString() : '-'}
                </div>
              </div>
              <a href="selection.html" class="btn btn-secondary" style="width: 100%; margin-top: 1rem;">ä¿®æ”¹é€‰ç§‘</a>
            </div>

            <!-- å³ä¾§ï¼šç»„åˆåˆ†ææŒ‡å— -->
            <div>
              <h4 style="margin-bottom: 1rem; color: var(--primary);">ğŸ¯ ç»„åˆåˆ†ææŒ‡å—</h4>
              ${analysis ? `
                <div style="background: linear-gradient(135deg, ${analysis.color}15 0%, ${analysis.color}05 100%); padding: 1.5rem; border-radius: 8px; border-left: 4px solid ${analysis.color};">
                  <div style="margin-bottom: 1rem;">
                    <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.3rem;">${analysis.category}</div>
                    <h5 style="color: ${analysis.color}; font-weight: 600; font-size: 1.1rem; margin: 0;">
                      ${sel.physicsHistorySubject?.name} + ${sel.electiveOneSubject?.name} + ${sel.electiveTwoSubject?.name}
                    </h5>
                  </div>

                  <div style="background: #ffffff; padding: 1rem; border-radius: 6px; margin-bottom: 0.8rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.3rem;">ğŸ“Š ä¸“ä¸šè¦†ç›–ç‡</div>
                    <div style="font-weight: 600; color: ${analysis.color}; font-size: 1.1rem;">${analysis.coverage}</div>
                  </div>

                  ${analysis.advantages ? `
                  <div style="background: #ffffff; padding: 1rem; border-radius: 6px; margin-bottom: 0.8rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <div style="font-size: 0.85rem; color: #10b981; margin-bottom: 0.3rem; font-weight: 600;">âœ“ ä¼˜åŠ¿</div>
                    <div style="color: #1f2937; line-height: 1.6;">${analysis.advantages}</div>
                  </div>
                  ` : ''}

                  ${analysis.disadvantages ? `
                  <div style="background: #ffffff; padding: 1rem; border-radius: 6px; margin-bottom: 0.8rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <div style="font-size: 0.85rem; color: #ef4444; margin-bottom: 0.3rem; font-weight: 600;">âœ— åŠ£åŠ¿</div>
                    <div style="color: #1f2937; line-height: 1.6;">${analysis.disadvantages}</div>
                  </div>
                  ` : ''}

                  <div style="background: #ffffff; padding: 1rem; border-radius: 6px; margin-bottom: 0.8rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.3rem; font-weight: 600;">ğŸ“š å¯é€‰ä¸“ä¸šé¢</div>
                    <div style="color: #1f2937; line-height: 1.6;">${analysis.majors}</div>
                  </div>

                  <div style="background: #ffffff; padding: 1rem; border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                    <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.3rem; font-weight: 600;">ğŸ’¼ å°±ä¸šæ–¹å‘</div>
                    <div style="color: #1f2937; line-height: 1.6;">${analysis.careers}</div>
                  </div>
                </div>
              ` : `
                <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 8px; text-align: center; color: var(--text-muted);">
                  <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“Š</div>
                  <p>æš‚æ— è¯¥ç»„åˆçš„åˆ†ææ•°æ®</p>
                </div>
              `}
            </div>
          </div>
        `;
        } else {
          // æœªé€‰ç§‘æ—¶çš„ç»Ÿè®¡å¡ç‰‡æ˜¾ç¤º
          document.getElementById('statPhysicsHistory').textContent = 'æœªé€‰æ‹©';
          document.getElementById('statElectives').textContent = 'æœªé€‰æ‹©';
          document.getElementById('statStatus').textContent = 'æœªæäº¤';
          
          // æ›´æ–°é€‰ç§‘è¯¦æƒ…
          content.innerHTML = `
            <div style="text-align: center; padding: 3rem;">
              <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ“</div>
              <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">æ‚¨è¿˜æœªè¿›è¡Œé€‰ç§‘</p>
              <a href="selection.html" class="btn btn-primary">å¼€å§‹é€‰ç§‘</a>
            </div>
          `;
        }
      } catch (error) {
        console.error('åŠ è½½é€‰ç§‘æ•°æ®å¤±è´¥:', error);
        content.innerHTML = `
          <div style="text-align: center; padding: 3rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem; color: var(--danger);">âš ï¸</div>
            <p style="color: var(--text-secondary);">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</p>
          </div>
        `;
      }
    }

    // åˆå§‹åŒ–
    loadStatus();
    loadMySelection();
  </script>
</body>
</html>
